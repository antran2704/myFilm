{"ast":null,"code":"import _regeneratorRuntime from\"E:/sourceCode/myFilm/film/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"E:/sourceCode/myFilm/film/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/sourceCode/myFilm/film/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{useViewport}from\"../../hook\";import{AiOutlineLoading}from\"react-icons/ai\";import{animateScroll}from\"react-scroll\";import*as type from\"../../store/action\";import Category from\"../Category/Category\";import Modal from\"../Modal/Modal\";import\"./Content.scss\";import ContentItem from\"./ContentItem\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Content(){var dispath=useDispatch();var scroll=animateScroll;var _useSelector=useSelector(function(state){return state.movie;}),MoviePage=_useSelector.MoviePage,MovieDetail=_useSelector.MovieDetail;useEffect(function(){dispath(type.getMoviePage(1));},[]);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isModal=_useState2[0],setIsModal=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),movieInfo=_useState4[0],setMovieInfo=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),urlMovie=_useState6[0],setUrlMovie=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),indexPage=_useState8[0],setIndexPage=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),loading=_useState10[0],setLoading=_useState10[1];var _useViewport=useViewport(),_useViewport2=_slicedToArray(_useViewport,1),width=_useViewport2[0];function handleModal(){setIsModal(!isModal);}function getInfoMovie(movie){setMovieInfo([movie]);}function getUrlMovie(movieUrl){setUrlMovie(movieUrl);}var getMoviePage=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(index){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIndexPage(index);if(!(index!=indexPage)){_context.next=7;break;}setLoading(true);scroll.scrollToTop();_context.next=6;return dispath(type.getMoviePage(index));case 6:setTimeout(function(){setLoading(false);},3000);case 7:case\"end\":return _context.stop();}}},_callee);}));return function getMoviePage(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"content\",style:width>1200?{gridTemplateColumns:\"repeat(5,auto)\"}:width>1000?{gridTemplateColumns:\"repeat(4,auto)\"}:width>760?{gridTemplateColumns:\"repeat(3,auto)\"}:width>600?{gridTemplateColumns:\"repeat(2,auto)\"}:{gridTemplateColumns:\"repeat(1,auto)\"},children:[MoviePage&&MoviePage.map(function(data,index){return/*#__PURE__*/_jsx(ContentItem,{movieUrl:getUrlMovie,getInfo:getInfoMovie,onClick:handleModal,data:data},index);}),/*#__PURE__*/_jsx(Modal,{url:urlMovie,data:movieInfo,show:isModal,onClick:handleModal})]}),loading&&/*#__PURE__*/_jsx(\"div\",{className:\"content_loading\",children:/*#__PURE__*/_jsx(AiOutlineLoading,{className:\"content_loading-icon\"})}),MoviePage&&/*#__PURE__*/_jsx(Category,{active:indexPage,onClick:getMoviePage})]});}export default Content;","map":{"version":3,"names":["useEffect","useState","useDispatch","useSelector","useViewport","AiOutlineLoading","animateScroll","type","Category","Modal","ContentItem","Content","dispath","scroll","state","movie","MoviePage","MovieDetail","getMoviePage","isModal","setIsModal","movieInfo","setMovieInfo","urlMovie","setUrlMovie","indexPage","setIndexPage","loading","setLoading","width","handleModal","getInfoMovie","getUrlMovie","movieUrl","index","scrollToTop","setTimeout","gridTemplateColumns","map","data"],"sources":["E:/sourceCode/myFilm/film/src/components/Content/Content.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useViewport } from \"../../hook\";\r\nimport { AiOutlineLoading } from \"react-icons/ai\";\r\nimport {animateScroll} from \"react-scroll\"\r\nimport * as type from \"../../store/action\";\r\nimport Category from \"../Category/Category\";\r\nimport Modal from \"../Modal/Modal\";\r\nimport \"./Content.scss\";\r\nimport ContentItem from \"./ContentItem\";\r\n\r\nfunction Content() {\r\n  \r\n  const dispath = useDispatch();\r\n  const scroll = animateScroll\r\n  const { MoviePage, MovieDetail } = useSelector((state) => state.movie);\r\n  useEffect(() => {\r\n    dispath(type.getMoviePage(1));\r\n  }, []);\r\n  const [isModal, setIsModal] = useState(false);\r\n  const [movieInfo, setMovieInfo] = useState([]);\r\n  const [urlMovie, setUrlMovie] = useState([]);\r\n  const [indexPage,setIndexPage] = useState(1)\r\n  const [loading,setLoading] = useState(false)\r\n  const [width] = useViewport();\r\n  function handleModal() {\r\n    setIsModal(!isModal);\r\n  }\r\n\r\n  function getInfoMovie(movie) {\r\n    setMovieInfo([movie]);\r\n  }\r\n\r\n  function getUrlMovie(movieUrl) {\r\n    setUrlMovie(movieUrl);\r\n  }\r\n\r\n  const getMoviePage = async function(index) {\r\n    setIndexPage(index)\r\n    if(index != indexPage) {\r\n      setLoading(true)\r\n      scroll.scrollToTop();\r\n      await dispath(type.getMoviePage(index));\r\n      setTimeout(() => {\r\n        setLoading(false)\r\n      },3000)\r\n    }\r\n  }\r\n  return (\r\n    <div>\r\n      <div\r\n        className=\"content\"\r\n        style={\r\n          width > 1200\r\n            ? { gridTemplateColumns: \"repeat(5,auto)\" }\r\n            : width > 1000\r\n            ? { gridTemplateColumns: \"repeat(4,auto)\" }\r\n            : width > 760\r\n            ? { gridTemplateColumns: \"repeat(3,auto)\" }\r\n            : width > 600\r\n            ? { gridTemplateColumns: \"repeat(2,auto)\" }\r\n            : { gridTemplateColumns: \"repeat(1,auto)\" }\r\n        }\r\n      >\r\n        {MoviePage &&\r\n          MoviePage.map(function (data, index) {\r\n            return (\r\n              <ContentItem\r\n                movieUrl={getUrlMovie}\r\n                key={index}\r\n                getInfo={getInfoMovie}\r\n                onClick={handleModal}\r\n                data={data}\r\n              />\r\n            );\r\n          })}\r\n\r\n        <Modal\r\n          url={urlMovie}\r\n          data={movieInfo}\r\n          show={isModal}\r\n          onClick={handleModal}\r\n        />\r\n      </div>\r\n\r\n      {loading && <div className=\"content_loading\">\r\n        <AiOutlineLoading className=\"content_loading-icon\" />\r\n      </div>}\r\n\r\n      {MoviePage && <Category active={indexPage} onClick={getMoviePage} />}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Content;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}